<div class="employee-wrapper">
  <!-- Sección de búsqueda -->
  <div class="search-container">
    <mat-form-field appearance="outline">
      <mat-label>Employee ID</mat-label>
      <input matInput type="text" [(ngModel)]="employeeId" placeholder="Enter the employee ID" (keydown.enter)="searchEmployee()">
    </mat-form-field>
    <button mat-raised-button color="primary" (click)="searchEmployee()">Search</button>
  </div>

    <!-- Mensaje de error si no se encuentra el empleado -->
    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>

  <!-- Sección de tabla -->
  <div class="table-container">
    <table mat-table [dataSource]="filteredEmployees" class="mat-elevation-z8">

      <!-- Columna de ID -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let employee">{{employee.id}}</td>
      </ng-container>

      <!-- Columna de Nombre -->
      <ng-container matColumnDef="employee_name">
        <th mat-header-cell *matHeaderCellDef>Employee Name</th>
        <td mat-cell *matCellDef="let employee">{{employee.employee_name}}</td>
      </ng-container>

      <!-- Columna de Salario Mensual -->
      <ng-container matColumnDef="employee_salary">
        <th mat-header-cell *matHeaderCellDef>Employee Salary</th>
        <td mat-cell *matCellDef="let employee">{{employee.employee_salary | currency}}</td>
      </ng-container>

      <!-- Columna de Salario Anual (cálculo en tiempo real) -->
      <ng-container matColumnDef="annualSalary">
        <th mat-header-cell *matHeaderCellDef>Employee Salary Annual</th>
        <td mat-cell *matCellDef="let employee">{{employee.employee_salary * 12 | currency}}</td>
      </ng-container>

      <!-- Columna de Edad -->
      <ng-container matColumnDef="employee_age">
        <th mat-header-cell *matHeaderCellDef>Employee Age</th>
        <td mat-cell *matCellDef="let employee">{{employee.employee_age}}</td>
      </ng-container>

      <!-- Cabeceras y filas -->
      <tr mat-header-row *matHeaderRowDef="['id', 'employee_name', 'employee_salary', 'annualSalary', 'employee_age']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['id', 'employee_name', 'employee_salary', 'annualSalary', 'employee_age'];"></tr>
    </table>
  </div>
</div>
